<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<!-- ui repeat liste des services -->
	<h4>
		<span class="badge rounded-pill bg-info text-dark">Attente</span>
	</h4>
	<div class="row justify-content-center text-center">
		<div class="col md-5 lg-2 col-card">

			<ui:repeat var="s" value="#{mbAccount.getFieldWaiting(mbAccount.account.id)}"
				varStatus="status">
				<div class="card" style="width: 18rem">
					<div class="card-body align-left">
						<h5 class="card-title">
							<h:outputText value="#{s.field.name}"></h:outputText>
						</h5>
						<h:graphicImage styleClass="img-thumbnail"
							value="#{s.field.photo}"></h:graphicImage>
						<p class="card-text">
							<span class="color-green-primary">Ville : </span>
							<h:outputText value="#{s.field.zipcode.label}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Surface : </span>
							<h:outputText value="#{s.field.surface}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Debut : </span>
							<h:outputText value="#{s.field.starting}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Fin : </span>
							<h:outputText value="#{s.field.ending}"></h:outputText>
						</p>

						<h:form>
							<f:ajax render=":contentPage">
								<h:commandLink 
									styleClass="card-link-hover" value=""
									action="#{mbService.getServiceDetail(ServicePageMBean,s, 'service_detail_waiting', false)}">
								</h:commandLink>
							</f:ajax>
						</h:form>
					</div>
				</div>
			</ui:repeat>

			<ui:repeat var="h" value="#{mbAccount.getHerdWaiting(mbAccount.account.id)}"
				varStatus="status">
				<div class="card" style="width: 18rem">
					<div class="card-body align-left">
						<h5 class="card-title">
							<h:outputText value="#{h.field.name}"></h:outputText>
						</h5>
						<h:graphicImage styleClass="img-thumbnail"
							value="#{h.field.photo}"></h:graphicImage>
						<p class="card-text">
							<span class="color-green-primary">Ville : </span>
							<h:outputText value="#{h.field.zipcode.label}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Surface : </span>
							<h:outputText value="#{h.field.surface}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Debut : </span>
							<h:outputText value="#{h.field.starting}"></h:outputText>
						</p>
						<p class="card-text">
							<span class="color-green-primary">Fin : </span>
							<h:outputText value="#{h.field.ending}"></h:outputText>
						</p>

						<h:form>
							<f:ajax render=":contentPage">
								<h:commandLink 
									styleClass="card-link-hover" value=""
									action="#{mbService.getServiceDetail(ServicePageMBean,h, 'service_detail_waiting', true)}">
								</h:commandLink>
							</f:ajax>
						</h:form>
					</div>
				</div>
			</ui:repeat>

		</div>

	</div>
</ui:composition>